<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<dom-module id="simple-build-status">
  <template>
    <iron-ajax url="[[computeReposApiUrl(org)]]" last-response="{{repos}}" auto></iron-ajax>

    <template is="x-repeat" items="{{repos}}">
      <simple-build-card repo="[[item]]"></simple-build-card>
    </template>

  </template>
</dom-module>
<script>
  Polymer({
    is: 'simple-build-status',

    properties: {
      org: {
        type: String,
        value: 'polymerelements'
      }
    },

    computeReposApiUrl: function(org) {
      return 'http://api.github.com/orgs/' + org + '/repos';
    }
  });
</script>
